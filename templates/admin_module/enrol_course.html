<div style="padding-left:16px">
    <h1>Enrol Course</h1>
    
    <form action="enrol_course_info/" method="post">
    {% csrf_token %}

    <div>
    <label for="course_batch">Course Batch</label>
    <input type="text"  id="course_batch" name="course_batch" required>
    
    <br><br>
    
    <label>Course Title</label>
    
    <select name="course_title" required>
        <option value "" selected disabled hidden> Choose Course </option>
        {% for value in option_course_id%}
            <option value="{{value}}" >{{value}}</option>
        {% endfor %}

    </select>

    <br><br>
    <label for="session_details">Session Details</label>
    <input type="text" id="session_details" name="session_details" required>

    
    <br><br>
    <label for="start_date">Start Date</label>
    <input type="date" id="start_date" name="start_date" required>

    <br><br>
    <label for="end_date">End Date</label>
    <input type="date" id="end_date" name="end_date" required>
    
    <br><br>
    <!-- <label for="course_mode">Course Mode</label>
    <input type="text" id="course_mode" name="course_mode" required>

    <p>Course Mode: </p>{{forms.course_mode}} -->

    <label for="start_time">Start Time</label>
    <input type="time" id="start_time" name="start_time" required>

    <br><br>
    <label for="end_time">End Time</label>
    <input type="time" id="end_time" name="end_time" required>
    

<br><br>
<!-- <script>
    function checkAll() {
      var checkboxes = document.getElementsByName('frequency[]');
      var checkAllCheckbox = document.getElementById('checkAll');

      for (var i = 0; i < checkboxes.length; i++) {
        checkboxes[i].checked = checkAllCheckbox.checked;
      }
    }
  </script> -->

		<label for="frequency">Frequency:</label>
		<select id="frequency" name="frequency" required>
            <option value "" selected disabled hidden> Choose Frequency </option>
			<option value=0>Once</option>
			<option value=1>Daily</option>
            <option value=7>Weekly</option>

		</select>
    <br><br>


    <label>Course Mode: </label>
    <select id="course_mode" name="course_mode">
        <option value"" selected disabled hidden> Choose Mode </option>
        {% for value in course_mode%}
            <option value="{{value}}" >{{value}}</option>
        {% endfor %}

    </select>
    
    <br><br>


   <!-- Instructor is moved-->
    <!-- <label>Instructor:</label>

    <select name="full_name" required>
        <option value "" selected disabled hidden> Choose Instructor </option>

        {% for value in full_name%}
            <option value="{{value}}" >{{value}}</option>
        {% endfor %}

    </select> -->

    <br><br>



    <!-- <input class="button" type="submit" value="Submit" onclick="return validateDates()"> -->
    <div id="form-container">
        <input type="submit" value="Submit" onclick="return validateDates() ">
        <div id="error-message" style="color: red;"></div>
      </div>

    <br><br>
    </form>

    <script>

        function validateDates() {

        var errorMessage = document.getElementById('error-message');
        var startDate = new Date(document.getElementById("start_date").value);
        var endDate = new Date(document.getElementById("end_date").value);
        var startTime = document.getElementById("start_time").value;
        var endTime = document.getElementById("end_time").value;
        var frequency = document.getElementById("frequency").value;

        
        
        if (startDate > endDate) {
            errorMessage.textContent = 'End date must be after start date.';
            return false;

            }

        else if (startDate < endDate) {
            if (frequency == "0") {
            errorMessage.textContent = 'Startdate should be equal to endDate.';
            return false;
            }

            else{    
            errorMessage.textContent = ''; // Clear the error message
            return true;
            }

            
            }
        else { //equal ang dates
            
            if (startTime > endTime) {
                errorMessage.textContent = 'End time must be after start time.';
                return false;
            }    
            if (frequency !== "0" ) {
                errorMessage.textContent = 'Frequency should be Once since start date = end date';
                return false;
            }
            errorMessage.textContent = ''; // Clear the error message
            return true;

        }
        }    
    </script>