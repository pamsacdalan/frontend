{% load static %}

<!DOCTYPE html>
<html>
<head>
   
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        
        h1 {
            font-size: 24px;
        }
        
        h2 {
            font-size: 20px;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
        }
        
        th, td {
            padding: 8px;
            text-align: left;
        }
        
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        
        a {
            text-decoration: none;
            color: blue;
        }
        
        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
            position: relative;
            background-color: white;
        }
        
        .header img {
            max-width: 1200px;
            height: auto;
        }
        
        .header-text {
            position: absolute;
            top: 65%;
            left: 0.1;
            transform: translate(0, -50%);
            padding-left: 10px;
            z-index: 1;
        }
        
        .header-text h1 {
            font-size: 30px;
            color: #000;
            margin: 0;
        }
        
        .card {
            border: 1px solid #f2f2f2;
            margin-bottom: 16px;
            padding: 16px;
        }
        
        .card-header {
            cursor: pointer;
            padding: 8px 16px;
            background-color: #f2f2f2;
            font-weight: bold;
        }
        
        .card-body {
            display: none;
        }
        
        .card-body.show {
            display: block;
        }
    </style>
</head>
<body>
    <div class="header">
        <img src="{% static 'student/assets/imgs/header.png' %}" alt="Course Image">
        <div class="header-text">
            <h1>{{ id }}</h1>
        </div>
    </div>
    
    <div class="card">
        <div class="card-header" onclick="toggleCardBody('assignments')">Assignments</div>
        <div class="card-body" id="assignments">
            
            <table>
                <tr>
                    <th>Title</th>
                    <th>Description</th>
                    <th>Deadline</th>
                    <th>Grade</th>
                    <th>Max Score</th>
                </tr>
                {% for item in details %}
                <tr>
                    <td><a href="{% url 'student_view_assignment_details' id item.act.id %}">{{ item.act.activity_title }}</a></td>
                    <td>{{ item.act.activity_desc }}</td>
                    <td>{{ item.act.deadline }}</td>
                    <td>{{ item.grade }}</td>
                    <td>{{ item.act.max_score }}</td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>

    <div class="card">
        <div class="card-header" onclick="toggleCardBody('announcement')">Announcement Section</div>
        <div class="card-body" id="announcement">
            
            <table border="1">
                <tr>
                    <th>Announcement</th>
                    <th>Author</th>
                    <th>Date Posted</th>
                </tr>
                {% for announcement in announcement_details %}
                <tr>
                    <td name="announcement_text">{{ announcement.announcement_text|linebreaks }}</td>
                    <td name="author">{{ instructor_name }}</td>
                    <td name="date_posted">{{ announcement.date_posted }}</td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>

    <div class="card">
        <div class="card-header" onclick="toggleCardBody('course-info')">Course Info</div>
        <div class="card-body" id="course-info">
            
            <table border="1">
                <tr>
                    <th>Session Details</th>
                    <th>Course Mode</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Start Time</th>
                    <th>End Time</th>
                    <th>Frequency</th>
                    <th>Instructor</th>
                </tr>
                {% for course in course_details %}
                <tr>
                    <td name='session_details'>{{ course.session_details | urlize | safe }}</td>
                    <td name='course_mode'>
                        {% if course.course_mode == 0 %}Webinar
                        {% elif course.course_mode == 1 %}Onsite
                        {% else %}Self-Paced
                        {% endif %}
                    </td>
                    <td name='start_date'>{{ course.start_date }}</td>
                    <td name='end_date'>{{ course.end_date }}</td>
                    <td name='start_time'>{{ course.start_time }}</td>
                    <td name='end_time'>{{ course.end_time }}</td>
                    <td name='frequency'>
                        {% if course.frequency == 0 %}Once
                        {% elif course.frequency == 1 %}Daily
                        {% else %}Weekly
                        {% endif %}
                    </td>
                    <td name="instructor">{{ instructor_name }}</td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>

    <div class="card">
        <div class="card-header" onclick="toggleCardBody('classmates')">List of Classmates</div>
        <div class="card-body" id="classmates">
            <table border="1">
                <tr>
                    <th>Name</th>
                    <th>Program</th>
                   
                </tr>
                {% for student in classmate_details %}
                <tr>
                    <td name="fullname">{{ student.full_name }}</td>
                    <td name="program">{{ student.program_code }}</td>
                    
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    
    <script>
        function toggleCardBody(cardId) {
            var cardBody = document.getElementById(cardId);
            cardBody.classList.toggle("show");
        }
    </script>
</body>
</html>
